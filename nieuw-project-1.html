<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>POM – Nieuw Project</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/styles.css"/>
</head>
<body class="flex items-center justify-center min-h-screen bg-gray-50">

  <div class="card w-full max-w-md">
    <h2 class="text-xl font-semibold text-gray-800 mb-6 text-center">Nieuw Project</h2>

    <div class="flex flex-col gap-4">
      <!-- Projectnaam -->
      <div class="flex items-center gap-4">
        <label class="text-sm text-gray-500 w-32 text-right flex-shrink-0">Projectnaam</label>
        <input id="naam" type="text" class="input-field" placeholder="Naam van het project"/>
      </div>

      <!-- Huidige stap -->
      <div class="flex items-center gap-4">
        <label class="text-sm text-gray-500 w-32 text-right flex-shrink-0">Waar sta je momenteel</label>
        <textarea id="naam" type="text" class="input-field" placeholder="Waarvoor wil je POM gaan gebruiken"></textarea>
      </div>

      <!-- Rol -->
      <div class="flex items-start gap-4">
        <label class="text-sm text-gray-500 w-32 text-right flex-shrink-0 pt-1">Wat is jouw rol</label>
        <div id="rol-btns" class="flex flex-wrap gap-2">
          <button type="button" class="sel-btn" data-rol="Schoolbestuur">Schoolbestuurder</button>
          <button type="button" class="sel-btn" data-rol="Architect">Architect</button>
          <button type="button" class="sel-btn" data-rol="Onderwijshuisvesting">Beleidsadviseur Onderwijshuisvesting</button>
          <button type="button" class="sel-btn" data-rol="Stedenbouw beleid">Stedenbouwkundige</button>
          <button type="button" class="sel-btn" data-rol="Sport beleid">Beleidsadviseur Sport</button>
          <button type="button" class="sel-btn" data-rol="Sport beleid">Beleidsadviseur mobiliteit</button>
          <button type="button" class="sel-btn" data-rol="Sociaal beleid">Beleidsadviseur Sociaal domein</button>
          <button type="button" class="sel-btn" data-rol="Sociaal beleid">Anders</button>
        </div>
      </div>

      <!-- Ervaring -->
      <!-- <div class="flex items-center gap-4">
        <label class="text-sm text-gray-500 w-32 text-right flex-shrink-0">Ervaring</label>
        <select id="ervaring" class="select-field">
          <option value="">Selecteer…</option>
          <option>Weinig ervaring</option>
          <option>Enige ervaring</option>
          <option>Veel ervaring</option>
        </select>
      </div>
    </div> -->

    <div class="flex justify-end mt-8">
      <button id="next-btn" onclick="volgendeStap()" class="btn-primary px-6 py-2">volgende stap</button>
    </div>
  </div>

  <script src="js/state.js"></script>
  <script>
    // Rol toggle buttons
    document.querySelectorAll('#rol-btns .sel-btn').forEach(btn => {
      btn.addEventListener('click', () => btn.classList.toggle('active'));
    });

    // Pre-fill from draft if returning
    const draft = getDraft();
    if (draft.naam)        document.getElementById('naam').value = draft.naam;
    if (draft.huidigeStap) document.getElementById('huidigeStap').value = draft.huidigeStap;
    if (draft.ervaring)    document.getElementById('ervaring').value = draft.ervaring;
    if (draft.rol) {
      const selected = draft.rol.split(', ');
      document.querySelectorAll('#rol-btns .sel-btn').forEach(btn => {
        if (selected.includes(btn.dataset.rol)) btn.classList.add('active');
      });
    }

    function volgendeStap() {
      const naam = document.getElementById('naam').value.trim();
      // const huidigeStap = document.getElementById('huidigeStap').value;
      const rollen = [...document.querySelectorAll('#rol-btns .sel-btn.active')]
                       .map(b => b.dataset.rol);
      // const ervaring = document.getElementById('ervaring').value;

      if (!naam) { alert('Vul een projectnaam in.'); return; }
      // if (!huidigeStap) { alert('Selecteer de huidige stap.'); return; }
      if (!rollen.length) { alert('Selecteer minimaal één rol.'); return; }
      // if (!ervaring) { alert('Selecteer uw ervaringsniveau.'); return; }

      // setDraft({ naam, huidigeStap, rol: rollen.join(', '), ervaring });
      setDraft({ naam, rol: rollen.join(', ') });
      window.location.href = 'nieuw-project-2.html';
    }
  </script>
</body>
</html>
